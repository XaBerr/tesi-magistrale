\lvli{Quantum key distribution}
\lvlii{Introduction}
The classic communication of our days always encrypts the messages between two sources with the same encryption key. The security of this protocol is based on the fact that the technology of modern computers, in decoding the key, is slower than its renewal period. This unfortunately will change because with the imminent arrival of quantum computers (1-4) it will be possible to decode the keys in a much shorter time thanks to what is called \textit{quantum speedup} (5). Decreasing the renewal period also increases the probability that the keys exchanged between two sources are intercepted. To establish the connection between two subjects that do not share secret information, we must rely on a reliable and secure channel, quantum mechanics offers one where the security of the channel is dictated by physical laws such as monogamy and no cloning theorem (6).

\lvlii{Qubit}
Quantum communication is based on the qubit. A classical bit (\textit{bit}) can stays in only two states and it is represented by $0$ or $1$, in contrast a quantum bit (\textit{qubit}) can stays in one of the states generated by  a basis of the Hilbert space, for example for the two dimensional case we have $\left|0\right> = \begin{bmatrix} 1 \\ 0 \\ \end{bmatrix}$ and $\left|1\right> = \begin{bmatrix} 0 \\ 1 \\ \end{bmatrix}$, and is represented by a vector $\left|\psi\right>$ in the bracket notation (27). A generic state can be expressed as a super position of the two vectors of the basis $\left|\psi\right> = \alpha\left|0\right> + \beta\left|1\right>$ where the complex amplitudes $\alpha, \beta$ must respect the normalization $\left<\psi|\psi\right> = |\alpha|^2 + |\beta|^2 = 1$. The qubit seems to have infinite possibility of output but when we measure it we can only get $0$ or $1$ as the classical one, this because $\alpha, \beta$ represent the amplitude probability of outcome if we measure the qubit $\left|\psi\right>$ in the basis $\{\left|0\right>, \left|1\right>\}$, so in this simple case we have $p(0) = |\left<\psi|0\right>|^2 = |\alpha|^2$ and $p(1) = |\left<\psi|1\right>|^2 = |\beta|^2$. What it is infinite it is the possibility of choosing the basis of measurement in fact there are infinite possibility of choosing two orthonormal vectors in the Hilbert space.

\lvlii{Photons}
In the quantum optic theory, light is the sum of indivisible particles called photons. The photons are important for quantum communication because the qubit information can be carried into a single photon. The qubit can be encoded in two main ways: polarization and time bin.

Polarization is a property applying to transverse waves that specifies the geometrical orientation of the oscillations. The electromagnetic waves propagate according the Helmholtz equations and the simpler solutions for the Helmholtz equations are the plane waves, the higher solution can be expressed as a superposition of plane waves (28). In general, the polarization of a plane wave refers to the orientation of the electric field vector that can be expressed as a super position of two vectors of the basis, in the specific case of a plane propagating in the $\hat{z}$ direction we can write $\vec{E} = (a_x \hat{x} + a_y \hat{y} e^{i \varphi}) e^{i \phi} e^{i k z}$. The polarization it can be expressed by Jones vector $\hat{P} = \begin{bmatrix} a_x \\ a_y e^{i\varphi} \\ \end{bmatrix}$ that it is in a space with the same characteristic of the Hilbert one.

Time bin encoding is obtained by sending a photon through a Mach-Zehnder interferometer. The photon can take one of the two paths, because one path $\left|1\right>$ is designed longer than the other one $\left|0\right>$ by a length bigger than the coherence length, the final state can be expressed as a superposition of the two $\left|\psi\right> = \frac{1}{\sqrt{2}} (\left|0\right> + e^{i\theta}\left|1\right>)$ where $e^{i \theta}$ represent the additional phase accumulated in the longer path. Controlling the phase, we can control the exiting state (29).

Another important aspect of the photon is its indivisibility, this was demonstrated for the first time in the 1987 (30). Indivisibility locks the information in a unique spot so the only way that one has to duplicate its information is trying to duplicate the photon. Here came the second aspect of the photon it cannot be copied because doesn't exist a linear operator that do so. The demonstration is really immediate: consider a generic input state $\left|\psi\right>$ described as before, an ancilla where we want to copy $\left|0\right>$ and a machine state $\left|\Phi\right>$, join them into a unique state $\left|\psi\right>\left|0\right>\left|\Phi\right> =: \left|\psi 0 \Phi\right>$, then we define the operator for the two vectors of the basis $\{\left|0\right>, \left|1\right>\}$:

$\left|0 0 \Phi\right> \to \left|0 0 \Phi\right>$,

$\left|1 0 \Phi\right> \to \left|1 1 \Phi\right>$,

when we try to compute the generic state applying linearity, we get the discrepancy:

$\left|\psi 0 \Phi\right> = \alpha\left|0 0 \Phi\right> + \beta\left|1 0 \Phi\right> \to \alpha\left|0 0 \Phi\right> + \beta\left|1 1 \Phi\right> \ne \left|\psi \psi \Phi\right>$.


\lvlii{BB84}

The first quantum distribution protocol \textit{BB84} (7) was devised in 1984 by Charles H. Bennett and Gilles Brassard, it requires the use of a public and authenticated classical channel and a quantum channel. The strength of this protocol lies in the fact that non-orthogonal single-photon symbols are used for data transmission, so that any eavesdropper who starts listening to the channel is forced to consume the photon to read the state and once consumed it, it is not able to reproduce it perfectly and so introducing an error in the system. In other words, the security of the channel can be determined by the number of errors obtained in the communication itself.  Because this protocol requires to send a random sequence of symbols this cannot be used to share data but for generate secret keys that are used to encode the data, this process is called quantum key distribution \textit{QKD}. The safest way to communicate using keys is divide the data in messages, for each message I encrypt it with a random string (key) and then discard that key, in this way every message became a random message that only who knows the key can decrypt, this procedure is called one time pad \textit{OTP}.

Now I describe the functioning detail of this protocol which is very important to understand the others because they have many steps in common:

- Alice and Bob decide to use two non-orthogonal bases for example $B_1 = \{\left|0\right>, \left|1\right>\}$ and $B_2 = \{\left|D\right>, \left|A\right>\}$ where $\left|D\right> = \frac{1}{\sqrt{2}} (\left|0\right> + \left|1\right>)$ and $\left|A\right> = \frac{1}{\sqrt{2}} (\left|0\right> - \left|1\right>)$.
- Alice send a sequence of qubits choosing at random from the four vectors of the bases. 
- Bob choose at random for each qubit a basis and measure it typically with \textit{POVM} and get a sequence of $0$ or $1$.
- Then Alice and Bob share in the authenticated classical channel the bases choice.
- They keep only the bits of the matching bases and discard the others because they are sure of the outcome and they get two partially correlated sequences of symbols called \textit{sifted key}.
- At this point they do a classical post-processing to be sure no errors are introduced by the channel, so if everything is worked, they share a unique secret key.

The strength of this protocol appears when there is a third person Eve between Alice and Bob that it is trying to read the data in the channel. Because the hole information of the qubit is encoded into a single photon and Eve cannot divide and cannot copy it, she must measure it. When Eve measure the photon, she cannot do a sequence of measurements since they does not commutate, so she must guess a basis for the measure and send another photon to Bob with the corresponding guessed state. Doing so Eve introduce an error that Alice and Bob can estimate it because it is additional to the typical one introduced by the channel. If the error introduced is too high, they must discard all bits and start again, else they have the \textit{sifted key} that are partially correlated and partially secret.

- As before they do a classical post-processing to remove the error and they get a unique key that it is still partially secret because Eve has read some qubit correctly and she has listened everything in the classical channel.
- To remove the partial information that Eve has in the secret key, Alice and Bob do an operation called \textit{privacy amplification}. They want to remove the bits that Eve know but they didn't know which are so they discard some bits using a hash function. Now they have unique secret key.

This protocol needs some conditions to communicate:

- Eve cannot intrude into Alice’s and Bob’s devices because this protocol guarantees a safety on the channel, if Eve reads inside the devices it becomes a problem of safety of the devices.
- Alice and Bob must trust the random number generators, if not Eve can study the statistical distribution of the source and improve its predictions.
- The classical channel is authenticated otherwise Eve can pass itself off as Bob and  communication would no longer be between Alice and Bob but between Alice and Eve.
- Devices are trusted and characterized, the further away the devices are from theoretical operation the more information Eve manages to recover.

If the conditions have been met the only attacks Eve can do are:

- Individual attack: Eve attacks each of the systems going from Alice to Bob independently of all others, using the same strategy. Eve must measure her ancillas before the classical postprocessing.
- Collective attack: Eve can keep her ancillas in a quantum memory until the end of the classical postprocessing and perform collective measurements.
- Coherent attack: no limits to fantasy. In many cases the bound is the same as for collective attacks.

The best attack Eve can do is \textit{collective attack} where the maximum information rate she can get is  $I_{AE} = \max_{Eve} \chi(A:E)$ where $\chi(A:E)$ is the \textit{Holevo bound} (31).  The secret information rate shared between Alice and Bob is the hole information rate between them minus the Eve's information rate where in the worst case is $r = I_{AB} - I_{E}$. The mutual information rate between Alice and Bob can be expressed as total rate minus the error entropy $I_{AB} = 1 - h_2(Q)$ where $h_2(Q)$ is the binary entropy of the \textit{QBER} (31). Eve can gain information only at the expense of introducing an error, so the information gained is proportional of the error introduced $I_E = f h_2(Q)$. The total rate secret information is then $r = 1 - h_2(Q) - f h_2(Q)$. This last parameter is what allows us to make the estimates described in the procedure above.

% \lvlii{Other protocols}

% After BB84 several protocols have been developed over the years for quantum communication between two sources that share similar properties: E91, EBB84, SARG04, B92, Six State Protocol (11), ..., and many more, here I am going to illustrate how some of them work.

% In 1991 Artur K. Ekert suggests a first variant of the BB84 which will later be called E91 (6). In the E91 an external source is introduced which generates a pair of maximal entangle photons, for example using a state $\left| \Psi^- \right>$, which are sent to Alice and Bob to perform the measurements. From here on, the protocol is very similar to BB84, in fact Alice and Bob make measurements choosing bases randomly and communicate them in the classic channel. They will keep the bits with the bases in common, the only difference is that either Alice or Bob will have to turn their bits because we are using an anti-correlation state. A very important thing about this setup is that Alice and Bob can test whether communication is really quantum using Bell's inequality (34-35) by choosing a particular set of bases (36).

% In 2005 the efficiency BB84 was proposed, later called EBB84 (8) where with a simple modification to BB84 it aims to double the efficiency of the protocol. In BB84 the bases are chosen casually, in other words with probability $ p (B_1) = p (B_2) = 0.5 $, this implies that Bob will make $ 50 \% $ of the wrong measurements and half of the photons will be immediately discarded. The EBB84 introduces a bias in the choice of bases. At the beginning of the communication Alice and Bob will have to agree on a probability value $ 0 <p (B_1) \le 0.5 $ with they will transmit the control bits and consequently a probability $ p (B_2) = 1 - p (B_1) $ with they will transmit the bits of the key. For $ p (B_1) \to 0 ^ + $ the protocol will remain secure and will double the efficiency.

% In 2004 was proposed a protocol SARG04 (9) which differs from BB84 in the classical sifting procedure. Alice and Bob instead of keeping the results of the measurements secret and communicating the bases done the opposite, they keep the bases secret and communicate the bits read. In this case they will know that they have chosen opposite bases when two bits are discordant. The disadvantage of this protocol is that Bob will remain with the $ 25 \% $ of photons instead of the $ 50 \% $ but in return he will have the advantage of being much more robust to the photon number split attack, an attack that will be better described in the following paragraph. We can see the advantage when Alice sends three photons, Eve can reads them by not introducing noise into the channel $ QBER = 0 $, in the case of BB84 when Alice and Bob communicate the bases Eve takes all the information on that qubit, while when in the SARG04 when communicate the bits Eve has only partial information.

% In 1992 Charles H. Bennett proposed a variant of the BB84 called B92 (10) where instead of using four states in transmission only two are used. The information of the key's bits is coded in the choice of two non-orthogonal Alice's states, for example $ \left| D \right> := 1, \left| 0 \right> := 0 $. Alice randomly sends the states to Bob who measures them using two typical orthogonal bases $ B_1, B_2 $. Suppose now that Bob has chosen to use the base $B_1 = \{\left| 0 \right>, \left| 1 \right> \}$, if Alice sent $ \left| 0 \right> $ Bob will always read state $ \left| 0 \right> $, if Alice sends state $ \left| D \right> $ Bob will have a $ 50 \% $ chance of reading $ \left| 1 \right> $. Only when he reads $ \left| 1 \right> $ Bob will be able to conclude that Alice sent that state and therefore the corresponding bit of the key, similar for $B_2$. Another important contrast to the BB84 protocol is that Bob do not have to announce the choice of basis in the post-transmission communication. The downside of this protocol is that the amount of discarded bits increases.

% Studies have led to the evolution of increasingly secure protocols by developing techniques that guarantee security even if devices that are not completely safe: DIQKD (12), MDIQKD (13), SDIQKD (14). These protocols require ad-hoc technology and require a limited number of intermediate hops, in fact each intermediate hop adds security risks to the communication that can take place via fiber, via free space or via satellite. 

\lvlii{Fiber}

The simpler way to communicate with QKD is via fiber because the technology of this sector is very developed, so the costs are not high, and the channel is relatively constant. The single-photon source is difficult to realize and therefore it is preferred to use an \textit{attenuated phase-randomized} laser pulse. The laser is important for this type of communication because its pulse generate a coherent state $\left|\alpha\right> = e^{- |\alpha|^2 / 2} \sum_{n=0}^{+\infty} \frac{\alpha^n}{\sqrt{n!}} \left|n\right>$ that have an average number of photons of $\bar{n} = |\alpha|^2$, attenuating the pulse we can control $\bar{n}$. Having a very low $\bar{n}$ is different from having a single photon because this allow Eve the possibility of \textit{photon number splitting attacks} (31). The pulses after being generated are sent to a symbol encoding system (time-bin, polarization) before being sent into the fiber which is usually the telecom fiber standard.

There are three effects that characterize the fiber: losses, chromatic dispersion, polarization mode dispersion. Losses inside the fiber are due to random scattering processes and depend therefore exponentially on the length $t = 10^{-\alpha l / 10}$ where $\alpha$ is the attenuation coefficient and it is typically $\alpha(\lambda = 1550[nm]) \approx 0.2 [dB / km]$ and depend from intrinsic properties as electrons transition, molecule agitations and Rayleigh scattering; or from extrinsic effect such as contamination of $OH^-, H_2$, bending, micro-bending and leakage due to modes coupling . Chromatic dispersion $\beta_2$ is a nonlinear effect that it is generated by the dependence of the velocity of traveling by the wavelength $\beta(w) \approx \beta_0 + \beta_1 w + \frac{1}{2} \beta_2 w^2$, this parameter depends on profile, material and guide mechanism. Polarization mode dispersion $PMD$ generate different delay respect to the polarization of the entering pulse that it is decompose in the two principal states of polarization PSP in a \textit{birefringent way}, this delay is generated because there is a symmetry break of the geometry of the fiber so the two modes $LP_{01}^x$ and $LP_{01}^y$ are no longer degenerative.

In general, all three of these characteristics impose a maximum reachable distance constraint regarding fiber communication especially for $PMD$ and attenuation. All fiber-based implementations of quantum communication have to face this last problem $PMD $. This is clearly true for polarization encoding but it is equally a concern for the time-bin encoding because the interferometer depends on the polarization (32). The attenuation is another big problem because unlike the classic communications where the intensity of the impulse sent can be increased, here we want to send single-photon pulse, and this involves a greatly reduces the maximum communication distance.

When the pulse leaves the fiber it is then sent to the decoding system which will convert it into a pair "bit and base" which will then be used in communication.

\lvlii{Satellite}

Both the fiber, due to the attenuation of the same, and the free space between ground stations, due to the curvature of the earth and the fluctuations of the low atmosphere, have a much shorter distance than satellite communication, it would be preferable to use the last one as a means for long range communication (15).

The composition of the atmosphere offers an excellent transmission window around $770 [nm]$ which is very close to the $800 [nm]$ of the typical telecommunication window. In this band it does not present any birefringent behavior and therefore does not have $PMD$. Unlike fiber, free space has no spatial confinement and therefore has beam divergence problems, in particular for a Gaussian beam the divergence is $\theta = \frac{\lambda}{\pi w_0}$ this mean the spot became really large if we consider a geostationary orbit $r \approx 36000[km]$ and a braded beam waste $w_0 \approx 10 [cm]$ we get $d \approx r \theta \approx 88 [m]$. The fact that it is not confined makes it an environment easily influenced by external noises such as sun and moon emissions. This problem can be mitigated by introducing spatial, temporal and spectral filters to try to confine the channel. Another disadvantage is that the medium in which the light propagates depends on the atmospheric conditions of the moment, the channel has strong attenuation in case of fog, rain, clouds, and in the case of turbulent motions that can create jittering and beam wander (32).

Another feature that makes free space difficult for communication is that it requires one of the two components to be mounted on a satellite. This is a higher difficulty level than fiber because it requires additional monetary investments for the launch and additional controls related to the complexity of controlling a satellite in orbit.



% \lvlii{Conclusion}

% Quantum communication exist and works. It has been used for a long time now in fiber to connect Beijing-to-Shanghai backbone in China (33), but due to the limitations of distances, the satellite one is being developed in recent years.

% The theoretical possibility of quantum communication via satellite is supported by the success of similar experiments already performed in the past as the BB84 communication between an airplane and earth (16) and vice versa (17). Furthermore, entangle communication was also performed at over 144 km (18) which suggests a possible use for the DIQKD, MDIQKD and SDIQKD protocols. A more recent experiment has succeeded in performing quasi-single-photon communication between the ground station and itself by bouncing the signal on LEO satellites equipped with a square-angle reflector (19) demonstrating the possibility of performing a decoy state communication. A complete QKD communication was also carried out on a balloon at high altitudes which demonstrates the possibility of QKD under the characteristics treated by the experiments first as: good performance under conditions of rapid movements, change of altitude, vibrations, random movements and high losses (20). An important milestone in satellite QKD is reached by China through the launch of the first QKD satellite in 2016, the QUESS project (21). Meanwhile, many other research groups have started making proposals to build QKD satellites: SpooQySats (22) try to demonstrate polarization entangled photon-pair sources in space with 3U CubeSat, QEYSSat (23) establish a trusted-node receiver for uplink QKD with a microsatellite, NanoBob (24) establish a trusted-node receiver for uplink QKD with a CubeSat, NanoQEY (25) project for QKD and Bell tests ground-to-level with a trusted-node satellite based on NEMO nanosatellite bus, CQuCom (26) from university of Padua with LEO-to-ground QKD downlinks with 6U CubeSat.

% In conclusion, what we expect from the future will be a hybrid infrastructure that will try to balance the limitations of both. A possible development could be that small-scale centralized fiber distribution stations will be built and instead the connectivity between these stations will be left to satellite communication that presents long-scale characteristics. It is also very probable that since the channels have such different costs they will have ad-hoc protocols developments to try to push the communication rate to the maximum. It is hoped that a global connection will be made in the coming decades.